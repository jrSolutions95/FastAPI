stages:
  - test

test:
  stage: test
  image: python:3.11
  before_script:
    - apt-get update && apt-get install -y curl build-essential
    - curl https://sh.rustup.rs -sSf | sh -s -- -y
    - source $HOME/.cargo/env
    - pip install --upgrade pip
    - pip install -r requirements.txt
  script:
    - pytest -s
